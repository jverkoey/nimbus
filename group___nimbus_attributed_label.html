<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Nimbus: Nimbus Attributed Label</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24278774-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
<body>
<div id="page">
<div style="position:relative">
<div id="top"><!-- do not remove this div! -->

<div id="titlearea">
<a style="float: right;margin-right:20px;margin-top:20px" href='http://www.pledgie.com/campaigns/15519'><img alt='Click here to support Nimbus development and make a donation at www.pledgie.com !' src='http://www.pledgie.com/campaigns/15519.png?skin_name=chrome' border='0' /></a>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Nimbus
   &#160;<span id="projectnumber">0.9.2 - <a href="http://github.com/jverkoey/nimbus">Nimbus is proudly hosted on Github</a></span>
   </div>
   <div id="projectbrief">An iOS framework whose growth is bounded by O(documentation).</div>
  </td>
  
  
  
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.4-20110629 -->
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group___nimbus_attributed_label.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">Nimbus Attributed Label</div>  </div>
</div>
<div class="contents">
<hr/><a name="details" id="details"></a><h2>Overview</h2>
<p>The <a class="el" href="interface_nimbus.html" title="The Nimbus state interface.">Nimbus</a> Attributed Label is a UILabel that uses NSAttributedString to provide custom text styling. </p>
<p><a class="el" href="interface_n_i_attributed_label.html" title="A UILabel that utilizes NSAttributedString to format its text.">NIAttributedLabel</a> uses Apple's CoreText framework to handle the styling, resulting in a fast, iOS SDK-based solution for styled text.</p>
<p><a class="el" href="interface_n_i_attributed_label.html" title="A UILabel that utilizes NSAttributedString to format its text.">NIAttributedLabel</a> will initially inherit the default styles set on the UILabel. You can use an attributed label within Interface Builder by creating a regualar UILabel and then changing its class to <a class="el" href="interface_n_i_attributed_label.html" title="A UILabel that utilizes NSAttributedString to format its text.">NIAttributedLabel</a>. This will allow you to set styles that apply to the entire string, but if you want to style specific parts of the string then you will need to do this formatting in code.</p>
<h2>Key Features</h2>
<ul>
<li>Link detection</li>
<li>Custom links</li>
<li>Setting custom styles for specific ranges</li>
<li>Underline text</li>
<li>Justify paragraph style</li>
<li>Text stroking</li>
<li>Text kerning</li>
</ul>
<div class="image">
<img src="NIAttributedLabelExample1.png" alt="NIAttributedLabelExample1.png"/>
<div class="caption">
A mashup of possible label styles</div></div>
 <h2>Link Detection</h2>
<p>Link detection is achieved using NSDataDetector and therefore is only available in iOS 4.0 and later. If pre-iOS 4.0 support is required then a regex solution will likely be used if NSDataDetector is not available, though this is not currently implemented.</p>
<p>Link detection is off by default and must be enabled by setting autoDetectLinks to YES:</p>
<div class="fragment"><pre class="fragment"> - (void)viewDidLoad {
    <span class="comment">// Enables link detection on the label.</span>
    myLabel.autoDetectLinks = YES;
 }
</pre></div><p>Enabling link detection will also enable user interation with the label view i.e. allow users to tap the detected links.</p>
<p>Detected links will inherit the linkColor and linkHighlight color (highlights on tap). These colors are both customizable:</p>
<div class="fragment"><pre class="fragment"> - (void)viewDidLoad {
    <span class="comment">// Sets all links to to be colored purple.</span>
    myLabel.linkColor = [UIColor purpleColor];
    <span class="comment">// Set the on tap highlight color to orange.</span>
    myLabel.linkHighlightColor = [UIColor orangeColor];
 } 
</pre></div><p>In the mashup screenshot above you can see links in blue, which is the default color.</p>
<p>linkColor and linkHighlightColor will also effect custom links (see below).</p>
<p>Implementing <a class="el" href="protocol_n_i_attributed_label_delegate-p.html" title="The attributed label delegate used to inform of user interactions.">NIAttributedLabelDelegate</a> will alow you to take action when a link is tapped:</p>
<div class="fragment"><pre class="fragment"> - (void)viewDidLoad {
    myLabel.delegate = <span class="keyword">self</span>;
 } 

 - (void)attributedLabel:(<a class="code" href="interface_n_i_attributed_label.html" title="A UILabel that utilizes NSAttributedString to format its text.">NIAttributedLabel</a> *)attributedLabel didSelectLink:(NSURL *)url {
    <span class="comment">// TODO: send user to selected url</span>
 }
</pre></div><h2>Custom Links</h2>
<p>Custom links behave the same as detected links but allow you to set any range of text to any URL. This is useful for internal links:</p>
<div class="fragment"><pre class="fragment"> - (void)viewDidLoad {
    <span class="comment">// Add a custom link to the text &#39;nimbus&#39;.</span>
    [myLabel addLink:[NSURL URLWithString:<span class="stringliteral">@&quot;nimbus://custom/url&quot;</span>]
               range:[myLabel.text rangeOfString:<span class="stringliteral">@&quot;nimbus&quot;</span>]];
 }
</pre></div><h2>Underlined Text</h2>
<p>Simple example to underline a label:</p>
<div class="fragment"><pre class="fragment"> - (void)viewDidLoad {
    <span class="comment">// Underline the whole label with a single line.</span>
    myLabel.underlineStyle = kCTUnderlineStyleSingle;
 }
</pre></div><p>Underline modifiers can also be added:</p>
<div class="fragment"><pre class="fragment"> - (void)viewDidLoad {
    <span class="comment">// Underline the whole label with a dash dot single line.</span>
    myLabel.underlineStyle = kCTUnderlineStyleSingle;
    myLabel.underlineStyleModifier = kCTUnderlinePatternDashDot;
 }
</pre></div><p>Underline styles and modifiers can be mixed to create the desired effect, which is shown in the following screenshot:</p>
<div class="image">
<img src="NIAttributedLabelExample2.png" alt="NIAttributedLabelExample2.png"/>
<div class="caption">
Underline styles</div></div>
 <dl class="remark"><dt><b>Remarks:</b></dt><dd>Underline style kCTUnderlineStyleThick seems to only render a single line, it's possible that it is not supported with Helvetica Neue and is font specific.</dd></dl>
<h2>Justified Paragraph Style</h2>
<p>Standard UILabel has support for left aligned, right aligned and centered text. NIAttributtedLabel adds support for justified text.</p>
<p>NIAttributtedLabel uses CoreText's CTTextAlignment under the hood for text alignment, however for convenience and eases alignment can be set via the more common UIKit's UITextAlignment, just like a regular UILabel. A UITextAlignmentJustify macro has been created to set justified text:</p>
<div class="fragment"><pre class="fragment"> - (void)viewDidLoad {
    <span class="comment">// Label will be justified to the label&#39;s frame width.</span>
    myLabel.textAlignment = UITextAlignmentJustify;
 }
</pre></div><h2>Text Stroke</h2>
<p>Text stroke styles can be set by setting the stroke width and stroke color:</p>
<div class="fragment"><pre class="fragment"> - (void)viewDidLoad {
    <span class="comment">// Set the stroke width.</span>
    myLabel.strokeWidth = 3.0;
    <span class="comment">// Give the text a black stroke.</span>
    myLabel.strokeColor = [UIColor blackColor];
 }
</pre></div><p>If you give the stroke width a positive number then the label will ignore the text color and just render the given stroke:</p>
<div class="image">
<img src="NIAttributedLabelExample3.png" alt="NIAttributedLabelExample3.png"/>
<div class="caption">
Black stroke of 3.0</div></div>
<p> If you use a negative number then it will add the stroke the same as before, but also render the fill color which will be the original text color:</p>
<div class="fragment"><pre class="fragment"> - (void)viewDidLoad {
    <span class="comment">// set the stoke width and renders the fill color</span>
    myLabel.strokeWidth = -3.0;
    myLabel.strokeColor = [UIColor blackColor];
 }
</pre></div><div class="image">
<img src="NIAttributedLabelExample4.png" alt="NIAttributedLabelExample4.png"/>
<div class="caption">
Black stroke of -3.0</div></div>
 <h2>Text Kerning</h2>
<p>Text kerning is the space between characters. A value of 0 is the default spacing. A positive number will increase the space and a negative number will decrease the space:</p>
<div class="fragment"><pre class="fragment"> - (void)viewDidLoad {
    <span class="comment">// Move the character spacing closer together.</span>
    myLabel.textKern = -6.0;
 }
</pre></div><div class="image">
<img src="NIAttributedLabelExample5.png" alt="NIAttributedLabelExample5.png"/>
<div class="caption">
Text kern of -6.0</div></div>
 <h2>Range Format Styles</h2>
<p>All styles that can be added to the whole label (as well as default UILabel styles like font and text color) can be added to just a range of text as shown in the mashup screenshot above (last paragraph):</p>
<div class="fragment"><pre class="fragment"> - (void)viewDidLoad {
    <span class="comment">// Change the text &#39;Nimbus&#39; to orange.</span>
    [myLabel setTextColor:[UIColor orangeColor] range:[myLabel.text rangeOfString:<span class="stringliteral">@&quot;Nimbus&quot;</span>]];
    <span class="comment">// Change the text &#39;iOS&#39; to a larger font.</span>
    [myLabel setFont:[UIFont boldSystemFontOfSize:22] range:[myLabel.text rangeOfString:<span class="stringliteral">@&quot;iOS&quot;</span>]];
    <span class="comment">// etc. etc.</span>
 }
</pre></div><p>All <a class="el" href="interface_n_i_attributed_label.html" title="A UILabel that utilizes NSAttributedString to format its text.">NIAttributedLabel</a> format properties also have a method to set format with a NSRange.</p>
<h2>Example Project</h2>
<p><a class="el" href="interface_n_i_attributed_label.html" title="A UILabel that utilizes NSAttributedString to format its text.">NIAttributedLabel</a> should be very easy to get up and running. The easiest way to learn is to have a look at the BasicAttributedLabel project in the examples folder:</p>
<p><a href="https://github.com/jverkoey/nimbus/tree/master/examples/attributedlabel/BasicAttributedLabel">Example Project on GitHub</a></p>
<h2>Planned Features</h2>
<p>There are still a few things missing, like line spacing, that we would like to support. We may also add support for inline images in the future (not easy in CoreText).</p>
<p>We are planning to build a Markdown to NSAttributedString parser which will make it easier to add rich text to your applications. </p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_n_i_attributed_label.html">NIAttributedLabel</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A UILabel that utilizes NSAttributedString to format its text.  <a href="interface_n_i_attributed_label.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="groups"></a>
Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___nimbus_attributed_label-_protocol.html">Protocol</a></td></tr>
</table>
<div id="disqus_thread"></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
</div><!-- .fixedwidth -->

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'nimbusdocumentation'; // required: replace example with your forum shortname

    // The following are highly recommended additional parameters. Remove the slashes in front to use.
    // var disqus_identifier = 'unique_dynamic_id_1234';
    // var disqus_url = 'http://example.com/permalink-to-page.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>


    <span class="footer">Generated for Nimbus by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4-20110629 </span>
   </ul>
 </div>


</div> <!-- page -->
</body>
</html>
