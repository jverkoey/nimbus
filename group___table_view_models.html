<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Nimbus: Table View Models</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24278774-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
<body>
<div id="page">
<div style="position:relative">
<div id="top"><!-- do not remove this div! -->

<div id="titlearea">
<a style="float: right;margin-right:20px;margin-top:20px" href='http://www.pledgie.com/campaigns/15519'><img alt='Click here to support Nimbus development and make a donation at www.pledgie.com !' src='http://www.pledgie.com/campaigns/15519.png?skin_name=chrome' border='0' /></a>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Nimbus
   &#160;<span id="projectnumber">0.7.0 - <a href="http://github.com/jverkoey/nimbus">Nimbus is proudly hosted on Github</a></span>
   </div>
   <div id="projectbrief">An iOS framework whose growth is bounded by O(documentation).</div>
  </td>
  
  
  
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.4-20110629 -->
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group___table_view_models.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">Table View Models</div>  </div>
<div class="ingroups"><a class="el" href="group___nimbus_models.html">Nimbus Models</a></div></div>
<div class="contents">
<hr/><a name="details" id="details"></a><h2>Overview</h2>
<p><a class="el" href="interface_nimbus.html" title="The Nimbus state interface.">Nimbus</a> table view models make building table views remarkably easy. </p>
<p>Rather than implement the data source methods in each table view controller, you can assign a model to self.tableView.dataSource and only think about row creation.</p>
<p><a class="el" href="interface_nimbus.html" title="The Nimbus state interface.">Nimbus</a> table view models implement much of the standard functionality required for table views, including section titles, grouped rows, and section indices. By providing this functionality in one object <a class="el" href="interface_nimbus.html" title="The Nimbus state interface.">Nimbus</a> can also provide much more efficient implementations than one-off, naive implementations that might otherwise be copied from one controller to another.</p>
<h2>Creating Generic Static Models</h2>
<p>In order to use the <a class="el" href="interface_nimbus.html" title="The Nimbus state interface.">Nimbus</a> table view model you simply need to create a model, assigning it to your table view's data source after the table view has been created, and implementing the model delegate to create the table view cells. You can also use the <a class="el" href="group___table_cell_factory.html">Nimbus cell factory</a> to avoid having to implement the model delegate.</p>
<p>Below is an example of creating a basic list model:</p>
<div class="fragment"><pre class="fragment">NSArray* tableContents =
 [NSArray arrayWithObjects:
  [NSDictionary dictionaryWithObject:<span class="stringliteral">@&quot;Row 1&quot;</span> forKey:<span class="stringliteral">@&quot;title&quot;</span>],
  [NSDictionary dictionaryWithObject:<span class="stringliteral">@&quot;Row 2&quot;</span> forKey:<span class="stringliteral">@&quot;title&quot;</span>],
  [NSDictionary dictionaryWithObject:<span class="stringliteral">@&quot;Row 3&quot;</span> forKey:<span class="stringliteral">@&quot;title&quot;</span>],
  nil];

_model = [[<a class="code" href="class_n_i_table_view_model.html" title="A non-mutable table view model that complies to the UITableViewDataSource protocol.">NITableViewModel</a> alloc] initWithListArray:tableContents
                                            delegate:<span class="keyword">self</span>];
</pre></div><p>Below is an example of creating a basic sectioned model:</p>
<div class="fragment"><pre class="fragment">NSArray* tableContents =
 [NSArray arrayWithObjects:
  <span class="stringliteral">@&quot;Section Title&quot;</span>
  [NSDictionary dictionaryWithObject:<span class="stringliteral">@&quot;Row 1&quot;</span> forKey:<span class="stringliteral">@&quot;title&quot;</span>],
  [NSDictionary dictionaryWithObject:<span class="stringliteral">@&quot;Row 2&quot;</span> forKey:<span class="stringliteral">@&quot;title&quot;</span>],

  <span class="stringliteral">@&quot;Section Title&quot;</span>
  [NSDictionary dictionaryWithObject:<span class="stringliteral">@&quot;Row 3&quot;</span> forKey:<span class="stringliteral">@&quot;title&quot;</span>],
  nil];

_model = [[<a class="code" href="class_n_i_table_view_model.html" title="A non-mutable table view model that complies to the UITableViewDataSource protocol.">NITableViewModel</a> alloc] initWithSectionedArray:tableContents
                                                 delegate:<span class="keyword">self</span>];
</pre></div><p>Both of the above examples would implement the model delegate like so:</p>
<div class="fragment"><pre class="fragment">- (UITableViewCell *)tableViewModel: (<a class="code" href="class_n_i_table_view_model.html" title="A non-mutable table view model that complies to the UITableViewDataSource protocol.">NITableViewModel</a> *)tableViewModel
                   cellForTableView: (UITableView *)tableView
                        atIndexPath: (NSIndexPath *)indexPath
                         withObject: (id)<span class="keywordtype">object</span> {
  UITableViewCell* cell = [tableView dequeueReusableCellWithIdentifier:<span class="stringliteral">@&quot;row&quot;</span>];

  <span class="keywordflow">if</span> (nil == cell) {
    cell = [[[UITableViewCell alloc] initWithStyle: UITableViewCellStyleDefault
                                   reuseIdentifier: <span class="stringliteral">@&quot;row&quot;</span>]
            autorelease];
  }

  cell.textLabel.text = [<span class="keywordtype">object</span> objectForKey:<span class="stringliteral">@&quot;title&quot;</span>];

  <span class="keywordflow">return</span> cell;
}
</pre></div><h2>Creating Forms</h2>
<p>Let's say you want to create a form for a user to enter their username and password. You can easily do this with <a class="el" href="interface_nimbus.html" title="The Nimbus state interface.">Nimbus</a> using the <a class="el" href="group___table_cell_factory.html">Nimbus cell factory</a> and the <a class="el" href="interface_nimbus.html" title="The Nimbus state interface.">Nimbus</a> form elements from the <a class="el" href="group___table_cell_catalog.html">table cell catalog</a>.</p>
<div class="fragment"><pre class="fragment">NSArray* tableContents =
[NSArray arrayWithObjects:
 <span class="stringliteral">@&quot;Sign In&quot;</span>,
 [<a class="code" href="interface_n_i_text_input_form_element.html" title="A text input form element.">NITextInputFormElement</a> textInputElementWithID:kUsernameField placeholderText:<span class="stringliteral">@&quot;Username&quot;</span> value:nil],
 [<a class="code" href="interface_n_i_text_input_form_element.html" title="A text input form element.">NITextInputFormElement</a> passwordInputElementWithID:kPasswordField placeholderText:<span class="stringliteral">@&quot;Password&quot;</span> value:nil],
 nil];

_model = [[<a class="code" href="class_n_i_table_view_model.html" title="A non-mutable table view model that complies to the UITableViewDataSource protocol.">NITableViewModel</a> alloc] initWithSectionedArray:tableContents
                                                 delegate:(id)[<a class="code" href="interface_n_i_cell_factory.html" title="A simple factory for creating table view cells from objects.">NICellFactory</a> <span class="keyword">class</span>]];
</pre></div><p>When the user then hits the button to sign in, you can grab the values from the model by using the elementWithID: category method added to <a class="el" href="class_n_i_table_view_model.html" title="A non-mutable table view model that complies to the UITableViewDataSource protocol.">NITableViewModel</a> by the form support.</p>
<div class="fragment"><pre class="fragment"><a class="code" href="class_n_s_string.html" title="For manipulating NSStrings.">NSString</a>* username = [[_model elementWithID:kUsernameField] value];
<a class="code" href="class_n_s_string.html" title="For manipulating NSStrings.">NSString</a>* password = [[_model elementWithID:kPasswordField] value];
</pre></div><p>See example: <a class="el" href="_example_static_table_model_8m-example.html">Static Table Model Creation</a> </p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_i_table_view_model.html">NITableViewModel</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A non-mutable table view model that complies to the UITableViewDataSource protocol.  <a href="class_n_i_table_view_model.html#details">More...</a><br/></td></tr>
</table>
<div id="disqus_thread"></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
</div><!-- .fixedwidth -->

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'nimbusdocumentation'; // required: replace example with your forum shortname

    // The following are highly recommended additional parameters. Remove the slashes in front to use.
    // var disqus_identifier = 'unique_dynamic_id_1234';
    // var disqus_url = 'http://example.com/permalink-to-page.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>


    <span class="footer">Generated for Nimbus by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4-20110629 </span>
   </ul>
 </div>


</div> <!-- page -->
</body>
</html>
